{
  "url": "https://tradingview.github.io/lightweight-charts/docs/plugins/series-primitives",
  "title": "Series Primitives",
  "content": "Primitives are extensions to the series which can define views and renderers to draw on the chart using CanvasRenderingContext2D.\n\nPrimitives are defined by implementing the ISeriesPrimitive interface. The interface defines the basic functionality and structure required for creating custom primitives.\n\nThe primary purpose of a series primitive is to provide one, or more, views to the library which contain the state and logic required to draw on the chart panes.\n\nThere are two types of views which are supported within ISeriesPrimitive which are:\n\nThe library will evoke the following getter functions (if defined) to get references to the primitive's defined views for the corresponding section of the chart:\n\nThe first three views allow drawing on the corresponding panes (main chart pane, price scale pane, and horizontal time scale pane) using the CanvasRenderingContext2D and should implement the ISeriesPrimitivePaneView interface.\n\nThe views returned by the priceAxisViews and timeAxisViews getter methods should implement the ISeriesPrimitiveAxisView interface and are used to define labels to be drawn on the corresponding scales.\n\nBelow is a visual example showing the various sections of the chart where a Primitive can draw.\n\nThe IPrimitivePaneView interface can be used to define a view which provides a renderer (implementing the IPrimitivePaneRenderer interface) for drawing on the corresponding area of the chart using the CanvasRenderingContext2D API. The view can define a zOrder to control where in the visual stack the drawing will occur (See PrimitivePaneViewZOrder for more information).\n\nRenderers should provide a draw method which will be given a CanvasRenderingTarget2D target on which it can draw. Additionally, a renderer can optionally provide a drawBackground method for drawing beneath other elements on the same zOrder.\n\nCanvasRenderingTarget2D is explained in more detail on the Canvas Rendering Target page.\n\nBelow is an interactive demo chart illustrating where each zOrder is drawn relative to the existing chart elements such as the grid, series, and crosshair.\n\nThe ISeriesPrimitiveAxisView interface can be used to define a label on the price or time axis.\n\nThis interface provides several methods to define the appearance and position of the label, such as the coordinate method, which should return the desired coordinate for the label on the axis. It also defines optional methods to set the fixed coordinate, text, text color, background color, and visibility of the label.\n\nPlease see the ISeriesPrimitiveAxisView interface for more details.\n\nYour primitive can use the attached and detached lifecycle methods to manage the lifecycle of the primitive, such as creating or removing external objects and event handlers.\n\nThis method is called when the primitive is attached to a chart. The attached method is evoked with a single argument containing properties for the chart, series, and a callback to request an update. The chart and series properties are references to the chart API and the series API instances for convenience purposes so that they don't need to be manually provided within the primitive's constructor (if needed by the primitive).\n\nThe requestUpdate callback allows the primitive to notify the chart that it should be updated and redrawn.\n\nThis method is called when the primitive is detached from a chart. This can be used to remove any external objects or event handlers that were created during the attached lifecycle method.\n\nYour primitive should update the views in the updateAllViews() method such that when the renderers are evoked, they can draw with the latest information. The library invokes this method when it wants to update and redraw the chart. If you would like to notify the library that it should trigger an update then you can use the requestUpdate callback provided by the attached lifecycle method.\n\nThe autoscaleInfo() method can be provided to extend the base autoScale information of the series. This can be used to ensure that the chart is automatically scaled correctly to include all the graphics drawn by the primitive.\n\nWhenever the chart needs to calculate the vertical visible range of the series within the current time range then it will evoke this method. This method can be omitted and the library will use the normal autoscale information for the series. If the method is implemented then the returned values will be merged with the base autoscale information to define the vertical visible range.\n\nPlease note that this method will be evoked very often during scrolling and zooming of the chart, thus it is recommended that this method is either simple to execute, or makes use of optimisations such as caching to ensure that the chart remains responsive.",
  "headings": [
    {
      "level": "h1",
      "text": "Series Primitives",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Views​",
      "id": "views"
    },
    {
      "level": "h3",
      "text": "IPrimitivePaneView​",
      "id": "iprimitivepaneview"
    },
    {
      "level": "h4",
      "text": "Interactive Demo of zOrder layers​",
      "id": "interactive-demo-of-zorder-layers"
    },
    {
      "level": "h3",
      "text": "ISeriesPrimitiveAxisView​",
      "id": "iseriesprimitiveaxisview"
    },
    {
      "level": "h2",
      "text": "Lifecycle Methods​",
      "id": "lifecycle-methods"
    },
    {
      "level": "h3",
      "text": "attached​",
      "id": "attached"
    },
    {
      "level": "h3",
      "text": "detached​",
      "id": "detached"
    },
    {
      "level": "h2",
      "text": "Updating Views​",
      "id": "updating-views"
    },
    {
      "level": "h2",
      "text": "Extending the Autoscale Info​",
      "id": "extending-the-autoscale-info"
    }
  ],
  "code_samples": [],
  "patterns": [],
  "links": [
    "https://tradingview.github.io/lightweight-charts/docs/plugins/series-primitives",
    "https://tradingview.github.io/lightweight-charts/docs",
    "https://tradingview.github.io/lightweight-charts/docs/api",
    "https://tradingview.github.io/lightweight-charts/docs/4.0",
    "https://tradingview.github.io/lightweight-charts/docs/3.8",
    "https://tradingview.github.io/lightweight-charts/docs/series-types",
    "https://tradingview.github.io/lightweight-charts/docs/chart-types",
    "https://tradingview.github.io/lightweight-charts/docs/price-scale",
    "https://tradingview.github.io/lightweight-charts/docs/time-scale",
    "https://tradingview.github.io/lightweight-charts/docs/panes",
    "https://tradingview.github.io/lightweight-charts/docs/time-zones",
    "https://tradingview.github.io/lightweight-charts/docs/plugins/intro",
    "https://tradingview.github.io/lightweight-charts/docs/plugins/pane-primitives",
    "https://tradingview.github.io/lightweight-charts/docs/plugins/custom_series",
    "https://tradingview.github.io/lightweight-charts/docs/plugins/canvas-rendering-target",
    "https://tradingview.github.io/lightweight-charts/docs/plugins/pixel-perfect-rendering",
    "https://tradingview.github.io/lightweight-charts/docs/migrations/from-v2-to-v3",
    "https://tradingview.github.io/lightweight-charts/docs/ios",
    "https://tradingview.github.io/lightweight-charts/docs/android",
    "https://tradingview.github.io/lightweight-charts/docs/release-notes",
    "https://tradingview.github.io/lightweight-charts/docs/api/type-aliases/ISeriesPrimitive",
    "https://tradingview.github.io/lightweight-charts/docs/api/interfaces/IPrimitivePaneView",
    "https://tradingview.github.io/lightweight-charts/docs/api/interfaces/ISeriesPrimitiveAxisView",
    "https://tradingview.github.io/lightweight-charts/docs/api/interfaces/ISeriesPrimitiveBase",
    "https://tradingview.github.io/lightweight-charts/docs/api/interfaces/IPrimitivePaneRenderer",
    "https://tradingview.github.io/lightweight-charts/docs/api/type-aliases/PrimitivePaneViewZOrder",
    "https://tradingview.github.io/lightweight-charts/docs/api/interfaces/SeriesAttachedParameter"
  ]
}